# Лабораторная работа № 3

Выполнил студент группы P33113 Суркис Антон Игоревич<br>
Преподаватель: Николаев Владимир Вячеславович

<u>Задание.</u>

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных ucheb:

    psql -h pg -d ucheb

<u>Отчёт по лабораторной работе должен содержать:</u>
1. Текст задания.
1. Реализацию запросов на SQL.
1. Планы выполнения запросов.
1. Ответы на вопросы, представленные в задании.
1. Выводы по работе.

<u>Темы для подготовки к защите лабораторной работы:</u>
1. Индексы
1. Оптимизация запросов
1. Выбор плана выполнения запросов

## Вариант № 532685

Составить запросы на языке SQL (пункты 1-2).

Для каждого запроса предложить индексы, добавление которых уменьшит время выполнения запроса (указать таблицы/атрибуты, для которых нужно добавить индексы, написать тип индекса; объяснить, почему добавление индекса будет полезным для данного запроса).

Для запросов 1-2 необходимо составить возможные планы выполнения запросов. Планы составляются на основании предположения, что в таблицах отсутствуют индексы. Из составленных планов необходимо выбрать оптимальный и объяснить свой выбор.
Изменятся ли планы при добавлении индекса и как?

Для запросов 1-2 необходимо добавить в отчет вывод команды `EXPLAIN ANALYZE [запрос]`

Подробные ответы на все вышеперечисленные вопросы должны присутствовать в отчете (планы выполнения запросов должны быть нарисованы, ответы на вопросы - представлены в текстовом виде).

1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:<br>
    Таблицы: `Н_ОЦЕНКИ`, `Н_ВЕДОМОСТИ`.<br>
    Вывести атрибуты: `Н_ОЦЕНКИ.КОД`, `Н_ВЕДОМОСТИ.ДАТА`.<br>
    Фильтры (`AND`):
    1. `Н_ОЦЕНКИ.КОД = 'зачет'`.
    1. `Н_ВЕДОМОСТИ.ИД < 39921`.

    Вид соединения: `RIGHT JOIN`.

    ### Решение
1. Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:

    Таблицы: `Н_ЛЮДИ`, `Н_ОБУЧЕНИЯ`, `Н_УЧЕНИКИ`.

    Вывести атрибуты: `Н_ЛЮДИ.ИМЯ`, `Н_ОБУЧЕНИЯ.ЧЛВК_ИД`, `Н_УЧЕНИКИ.НАЧАЛО`.

    Фильтры: (`AND`)
    1. `Н_ЛЮДИ.ИМЯ > 'Александр'`.
    1. `Н_ОБУЧЕНИЯ.ЧЛВК_ИД = 163276`.
    1. `Н_УЧЕНИКИ.ГРУППА = 1100`.

    Вид соединения: `INNER JOIN`.

    ### Решение
